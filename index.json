[{"content":" 1주차 학습 목표 토스(Toss)의 Application Security 영역 및 Backend/Platform Security Engineering 직무 역량 기준을 참고하여, 웹 취약점 중 가장 핵심인 **XSS(Cross-Site Scripting)**를 DVWA를 통해 공격/우회 실습을 해보며 분석.\n학습 배경 \u0026amp; 동기 토스(Toss)의 여러 포지션을 살펴보면 공통적으로 다음 역량을 매우 강조한다.\n웹 서비스 내부 동작에 대한 깊은 이해 Security mindset + 공격/방어 로직 분석 능력 웹 공격 Payload 작성 및 우회 능력 브라우저 보안 메커니즘 이해 입력 검증/출력 인코딩의 실제 영향 분석 XSS는 웹 취약점의 기초이지만 실제 서비스에서 빈번하게 발생한다. 이를 Low -\u0026gt; Medium -\u0026gt; High 난이도로 직접 분석/우회해 보며, 토스(Toss)가 요구하는 문제 자체를 깊게 이해하고, 직접 분석해서 해결할 수 있는 능력을 기르는데 초점을 맞추었다.\n목차 실습 환경 구축 실습 환경 환경 구축 DVWA 설치 XSS (Reflected, Stored, DOM) Low 단계 실습 Reflected XSS Stored XSS DOM XSS Medium -\u0026gt; High 단계 실습 Impossible 단계 코드 분석 대응 방안 마무리\n0. 실습 환경 구축 실습 환경 현재 나는 MacBook Air 13(M3, 2024)에서 VMware Fusion(Debian 12.x arm64)을 이용하고 있다.\n환경 구축 먼저 실습을 하기 위한 환경을 만들어야한다. 먼저 리눅스에 접속한 뒤 업데이트 후 필수 패키지를 설치하였다.\nsudo apt update \u0026amp;\u0026amp; sudo apt upgrade -y 오류 발생 \u0026amp; 해결 과정 그런데 터미널에 입력한 후에 아래와 같은 오류가 발생하였다.\n오류를 해결하기 위해 자세히 읽어보니 공간이 필요하다고 한다. \u0026lsquo;공간은 넉넉할텐데 왜 부족하다고 하지\u0026rsquo; 라는 궁금증이 생겼다.\nWarning: More space needed than available: 1501 MB \u0026gt; 242 MB, installation may fail Error: You don\u0026#39;t have enough free space in /var/cache/apt/archives/. 일단 찾아보니 아래의 코드를 터미널에 입력하면 캐시가 정리된다고 하여 입력해보았다.\nsudo apt clean sudo apt autoclean -y 완료된 것을 확인한 후 다시 업데이트와 업그레이드를 진행하니 똑같은 오류가 발생하였다.\n그래서 계속 찾아보았더니 현재 마운트 되지 않은 스토리지를 볼 수 있는 아래의 코드를 입력해보라고 한다.\nlsdlk 이를 터미널에 입력한 후 결과를 보니 아래와 같았다.\nVMware에서는 40G로 잡혀있지만 Debian은 18G만 사용하고 있어서 공간 부족이 발생한 것이다!\nNAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS sr0 11:0 1 3.5G 0 rom nvme0n1 259:0 0 40G 0 disk |-nvme0n1p1 259:1 0 16M 0 part |-nvme0n1p2 259:2 0 967M 0 part /boot/efi |-nvme0n1p3 259:3 0 18G 0 part / -nvme0n1p4 259:4 0 1G 0 part [SWAP] 이를 해결하기 위해 Gparted를 이용하여 루트 파티션을 확장하였다. 방법은 아래와 같다.\nsudo apt intsall gparted gparted Gparted를 실행 시킨 후 SWAP 파티션(nvme0n1p4)를 선택 후 Swap off -\u0026gt;\nSWAP 파티션을 맨 끝으로 이동 (할당되지 않은 파티션이 루트 파티션 뒤쪽으로 오게) -\u0026gt;\n루트 파티션을 선택한 후 Redize/Move 공간 확장 -\u0026gt;\n이후 SWAP 다시 활성화\n오류 해결 이제 다시 업그레이드와 얻데이트를 진행하니 성공적으로 완료되었다.\n이후 웹해킹 실습 기본 패키지를 설치하였다.\nsudo apt install -y git curl wget vim build-essential net-tools openssh-server \\ python3 python3-pip python3-venv default-jdk unzip nginx apache2 \\ mariadb-server php php-mysqli php-cli php-curl php-xml php-mbstring \\ nodejs npm docker.io docker-compose nmap tcpdump sqlmap 주요 패키지들이 설치가 잘 되었는지 확인하기 위해 아래의 코드를 터미널에 입력하였다.\npython3 --version node -v php -v apache2 -v mysql --version docker --version 결과\nPython 3.13.9 v20.19.5 PHP 8.4.11 (cli) (built: Aug 15 2025 23:56:47) (NTS) Copyright (c) The PHP Group Built by Debian Zend Engine v4.4.11, Copyright (c) Zend Technologies with Zend OPcache v8.4.11, Copyright (c), by Zend Technologies Server version: Apache/2.4.65 (Debian) Server built: 2025-08-15T08:32:25 mysql from 11.8.3-MariaDB, client 15.2 for debian-linux-gnu (aarch64) using EditLine wrapper Docker version 27.5.1+dfsg4, build cab968b3 잘 설치가 된 것을 볼 수 있었다.\n이후 Burp Suite를 설치해야지만 나는 이미 설치되어 있기에 바로 DVWA를 설치하였다.\nDVWA 설치 cd /var/www/html sudo git clone https://github.com/digininja/DVWA.git sudo mv DVWA dvwa 설치를 완료한 후 웹서버가 파일을 읽고 쓰기가 가능하게 권한을 설정해주었다.\nsudo chown -R www-data:www-data /var/www/html/dvwa sudo chmod -R 755 /var/www/html/dvwa 이후 DB를 생성하였다.\nsudo mariadb MariaDB 콘솔에 DB를 설정하기 위해 코드 입력\nCREATE DATABASE dvwa; CREATE USER \u0026#39;dvwa\u0026#39;@\u0026#39;localhost\u0026#39; IDENTIFIED BY \u0026#39;dvwapass\u0026#39;; GRANT ALL PRIVILEGES ON dvwa.* TO \u0026#39;dvwa\u0026#39;@\u0026#39;localhost\u0026#39;; FLUSH PRIVILEGES; exit; 위 SQL 명령어에 대해서 궁금하여 찾아보았다\n2번째 줄은 이름이 dvwa인 새 데이터베이스를 생성하는 구문이다.\n3번째 줄은 dvwa라는 사용자 계정을 만드는 것이고,\n4번쨰 줄은 dvwa 데이터베이스에 대한 모든 권한을 dvwa계정에 부여하는 구문이다.\ndvwa.* 은 dvwa 데이터베이스 안의 모든 테이블을 의미한다.\n5번째 줄은 지금까지 변경한 내용을 서버에 즉시 적용하라는 의미의 구문이다.\nDB를 생성한 후 DVWA 설정 파일을 수정하여야한다.\ncd /var/www/html/dvwa/config sudo cp config.inc.php.dist config.inc.php sudo nano config.inc.php 아래의 부분만 수정해주었다.\n$_DVWA[\u0026#39;db_user\u0026#39;] = \u0026#39;dvwa\u0026#39;; $_DVWA[\u0026#39;db_password\u0026#39;] = \u0026#39;dvwa123!\u0026#39;; 수정이 완료 되었으면 apache를 재시작해주었다.\nsudo systemctl restart apache2 완료한 후 FireFox를 이용하여 DVWA에 접속하였다.\nhttp://localhost/dvwa admin / password 로 로그인을 한 후\nSetup -\u0026gt; Create / Reset Database 를 클릭하여 데이터베이스를 생성/초기화 하였다.\n이후 Security Level을 \u0026lsquo;Low\u0026rsquo;로 설정한 뒤 실습을 진행하였다.\n그런데 창을 껐다가 다시 열었더니 Security Level이 \u0026lsquo;Impossible\u0026rsquo;로 초기화 되어있어 이를 해결하기 위해 다음과 같이 하였다.\nsudo nano /var/www/html/dvwa/config/config.inc.php 파일을 열어 디폴트 값을 \u0026lsquo;Impossible\u0026rsquo;에서 \u0026lsquo;Low\u0026rsquo;로 변경하였다.\n이후 본격적으로 DVWA를 이용한 XSS 실습을 시작하였다.\n1. XSS(Reflected/Stored/DOM) 실습 Reflected XSS (Low) 구조 확인 입력창에 hello를 입력해보니 Hello hello가 출력되었다.\nBurp Suite를 이용하여 Intercept 해보니\nGET /vulnerabilities/xss_r/?name=hello HTTP/1.1 name 파라미터에 삽입된 글씨가 그대로 페이지에 실행되는 구조인걸 확인할 수 있었다.\n따라서 스크립트가 파라미터에 삽입되면 아무 필터링 없이 스크립트가 실행이 되게 된다.\n공격 시도 입력창에 가장 기본적인 스크립트를 입력해보았다.\n\u0026lt;script\u0026gt;alert(1)\u0026lt;/script\u0026gt; 브라우저에 팝업이 뜨며 성공하였다.\nBurp SUite로 분석 이 또한 Burp Suite로 Intercept 해보니\nGET /vulnerabilities/xss_r/?name=\u0026lt;script\u0026gt;alert(1)\u0026lt;/script\u0026gt; HTTP/1.1 위와 같이 파라미에 삽입된 스크립트가 그대로 페이지에 반사(Reflect)되어 실행되는 구조임을 한 번 더 확인 할 수 있다.\n이제 Low단계를 해결했으니 기본적인 Payload 외의 다른 Patload도 궁금하여 찾아보았다. 찾아본 Payload들은 아래와 같다.\noneeroor 이벤트 활용 (script가 막힐때) \u0026lt;img src=x onerror=alert(\u0026#39;HACKED\u0026#39;)\u0026gt; 펄터링 테스트용 \u0026lt;ScRiPt\u0026gt;alert(\u0026#39;HACKED\u0026#39;)\u0026lt;/ScRiPt\u0026gt; HTML 종료 태그로 HTML 구조 파괴 \u0026#34;\u0026gt;\u0026lt;h1\u0026gt;Injected\u0026lt;/h1\u0026gt; HTML 종료 태그 + svg를 이용한 Payload \u0026#34;\u0026gt;\u0026lt;svg onload=alert(\u0026#39;HACKED\u0026#39;)\u0026gt; 미리 이야기하자면 바로 위의 svg를 이용한 Payload를 이용하여 모든 레벨의 XSS 실습에 이용하여 공격에 성공하였다.\nStored XSS (Low) 구조 확인 Stored는 이름과 내용을 입력하는 입력창이 있고 Sign Guestbook 버튼을 눌러 DB에 저장하는 방식인 거 같았다.\n먼저 이름에 \u0026rsquo;name\u0026rsquo;, 내용에는 \u0026ldquo;hello, world!\u0026ldquo;를 적고 Sign Guestbook 버튼을 클릭해 DB에 저장해보았다.\n결과는 다음과 같았다.\n입력을 하면 DB에 저장한 뒤 자동으로 출력하는 구조였다.\n이제 구조를 더 자세히 살펴보기 위해 Name과 Messagge 입력창에 아무거나 막 입력해보니 글자수 제한이 있다는 것을 확인할 수 있었다. 정확히 확인하기 위해 개발자 도구(F12)를 이용하여 살펴보니 아래와 같은 코드를 확인 할 수 있었다.\n\u0026lt;input name=\u0026#34;txtName\u0026#34; type=\u0026#34;text\u0026#34; size=\u0026#34;30\u0026#34; maxlength=\u0026#34;10\u0026#34;\u0026gt; \u0026lt;textarea name=\u0026#34;mtxMessage\u0026#34; cols=\u0026#34;50\u0026#34; rows=\u0026#34;3\u0026#34; maxlength=\u0026#34;50\u0026#34;\u0026gt;\u0026lt;/textarea\u0026gt; Name : 10자 까지 제한 Message : 50자 까지 제한 이를 개발자 도구(F12)를 이용하여 maxlength를 모두 100으로 수정을 한 뒤에 입력을 해보니 제한이 100자 까지 늘어난 것을 볼 수 있었다. 공격 시도 이제 Payload들을 삽입하여 보자 만약 이름과 메시지를 DB에 저장할때 아무 검증이 이루어지지 않으면 취약점이 발생할 것이다. 이를 확인하기 위해 Name에는 \u0026lsquo;hacker\u0026rsquo;, Message에는 아래와 같은 Payload를 입력 해보았다.\n\u0026#34;\u0026gt;\u0026lt;svg/onload=alert(\u0026#39;HACKED\u0026#39;)\u0026gt; 결과는 다음과 같이 팝업이 뜨는 걸 확인할 수 있었다. 이를 통해 아무 검증이 없다는 것을 알 수 있었다.\n이번 실습에서도 다른 Payload가 궁금하여 더 찾아보았다.\nStored XSS는 한 번 DB에 들어가 순간 그 게시판을 이용하는 모든 사람에게 피해가 가는 아주 위험한 취약점이다.\n아래와 같은 스크립트를 이용하여 게시판의 페이지 전체를 바꿔버릴 수도 있다.\n\u0026lt;script\u0026gt;document.body.innerHTML=\u0026#39;Hacked by KU\u0026#39;;\u0026lt;/script\u0026gt; 그러나 위 코드를 삽입하면 다음 Payload를 실습할 수 없기에 DB에 접속하여 지워줘야한다.\nmariadb USE dvwa; SELECT * FROM guestbook; 스크립트가 들어가 있는 걸 확인 한 뒤 guestbook 테이블에 저장된 내용을 삭제를 한다.\nDELETE FROM guestbook HTML 코드를 분석하여 HTML 구조를 파괴하며 스크립트를 삽입할 수도 있었다.\n\u0026lt;/textarea\u0026gt;\u0026lt;script\u0026gt;alert(\u0026#39;HACKED\u0026#39;)\u0026lt;/script\u0026gt; Stored XSS 분석 정리하면 Stroed XSS는 공격자가 악성 Payload를 입력하여 DB에 저장되게 되면 서버는 그걸 읽어서 HTML에 넣어버린다.\n따라서 그 악성 Payload가 들어간 페이지에 들어가는 사람은 전부 감염되는 구조인 것이다.\n지속적으로 공격이 가능하고, 관리자까지 공격하여 CSRF Token, 쿠키 등의 정보를 탈취 할 수도 있다.\nStroed XSS가 실제 해킹에서도 자주 쓰이는 이유가 위와 같다.\nPayload 분석 (JavaScript) XSS(DOM)으로 넘어가기 전에 지금까지 사용하였던 Payload에 대해 궁금하여 Payload가 어떻게 작동하고 JavaScript에 대해 간단히 알아보았다.\n\u0026lt;tag\u0026gt;내용\u0026lt;/tag\u0026gt; → HTML 태그 \u0026lt;script\u0026gt; ... \u0026lt;/script\u0026gt; → 자바스크립트 실행 영역 \u0026lt;img ... onerror=\u0026quot;JS코드\u0026quot;\u0026gt; → HTML 태그 속성에서 실행되는 자바스크립트 \u0026lt;a href=\u0026quot;javascript:JS코드\u0026quot;\u0026gt; → 링크 클릭 시 실행되는 자바스크립트 브라우저는 \u0026ldquo;script가 들어있거나 event 핸들러가 들어있으면\u0026rdquo; 무조건 JS라고 생각하고 실행한다.\nscript 태그 직접 실행 \u0026lt;script\u0026gt;alert(\u0026#39;HACKED\u0026#39;)\u0026lt;/script\u0026gt; 브라우저는 위의 코드를 JS 태그로 인식하여 그대로 실행한다.\n이벤트 실행(onerror) \u0026lt;img src=x onerror=alert(\u0026#39;HACKED\u0026#39;)\u0026gt; 여기서 자바스크립트 부분은 아래와 같다.\nalert(\u0026#39;HACKED\u0026#39;) 근데 \u0026lt;img\u0026gt; 태그가 이미 HTML이라고 인식되기 떄문에 속성 속에서 자바스크립트를 넣는 것만으로 실행되는 것이다.\njavascript: 프로토콜 \u0026lt;a href=\u0026#34;javascript:alert(\u0026#39;HACKED\u0026#39;)\u0026#34;\u0026gt;click\u0026lt;/a\u0026gt; javascript: 는 브라우저가 자바스크립트 실행하라는 특수 규칙이다.\nXSS Payload는:\n브라우저가 스크립트로 인식하는 구조 그 안에 자바스크립트 코드 실행 시 팝업, 쿠키 탈취 등 공격 수행 이렇게 구성됨을 알 수 있었다.\nDOM XSS (Low) DOM XSS는 Reflected/Stored와 아예 동작 방식 자체가 다르다. 서버에서 스크립트를 반사하거나(DB 저장 후 출력) 하는 게 아니라, 브라우저 내부의 DOM(Document Object Model)을 조작해서 발생하는 취약점이다.\n서버는 공격 Payload를 전혀 모르는 상태에서도 클라이언트 단에서 스크립트가 실행될 수 있다.\n이게 DOM XSS가 더 위험한 이유다.\nDOM 구조 확인 Burp Suite Intercept 결과를 보면 DOM XSS 페이지는 다음과 같은 요청을 보낸다:\nGET /vulnerabilities/xss_d/?default=English HTTP/1.1 그리고 페이지 아래쪽에는 다음과 같은 JS 코드가 존재한다.\nvar defaultLang = document.getElementById(\u0026#34;default\u0026#34;).value; document.getElementById(\u0026#34;lang\u0026#34;).innerHTML = defaultLang; 여기서 핵심은:\ninput 값(default 파라미터) → HTML 내부의 element.innerHTML에 직접 삽입된다. 서버는 default 값을 그대로 넘겨주기만 하고 실제 DOM 요소 변조는 브라우저가 직접 수행한다. DOM XSS는 서버가 아닌 클라이언트에서 스크립트가 실행되기 때문에 POST/GET 과도 크게 상관이 없다.\n공격 시도 Reflected XSS처럼 가장 기본적인 Payload부터 넣어보았다.\n\u0026#34;\u0026gt;\u0026lt;svg onload=alert(\u0026#39;HACKED\u0026#39;)\u0026gt; 결과는 성공이었다.\n브라우저는 URL 파라미터인 default= 값을 가져와 그대로 DOM 요소에 삽입했고, innerHTML이 그대로 실행되면서 alert 팝업이 발생했다.\nBurp Suite로 흐름 분석 Intercept된 요청은 단순히 다음과 같았다:\nGET /vulnerabilities/xss_d/?default=\u0026#34;\u0026gt;\u0026lt;svg/onload=alert(\u0026#39;DOM\u0026#39;)\u0026gt; HTTP/1.1 서버 응답에는 위험한 코드가 포함되지 않았다. 하지만 브라우저에 로딩되는 최종 HTML은 아래와 같이 변형된다.\n\u0026lt;div id=\u0026#34;lang\u0026#34;\u0026gt;\u0026#34;\u0026gt;\u0026lt;svg onload=alert(\u0026#39;HACEKD\u0026#39;)\u0026gt;\u0026lt;/div\u0026gt; ➡ 여기서 innerHTML에 직접 삽입되는 구조 때문에 브라우저가 JS를 실행한다.\n➡ DOM XSS의 근본 원인은 innerHTML 사용 + 입력 검증 미비다.\nDOM XSS와 Reflected/Stored XSS의 결정적 차이 유형 스크립트가 실행되는 곳 서버가 Payload를 보나? 지속성 Reflected 서버가 HTML로 반사 본다 1회성 Stored DB → HTML로 출력 본다 (DB로 저장됨) 지속적 DOM 브라우저의 JS 코드가 삽입하여 실행 안 본다 페이지 구조에 따라 다름 ➡ DOM XSS는 서버 단 로그나 필터에서 탐지되지 않아 더욱 위험하다.\nDOM XSS Payload 추가 테스트 추가로 DOM 환경에서도 잘 실행되는 Payload들을 테스트했다.\n\u0026#34;\u0026gt;\u0026lt;img src=x onerror=alert(\u0026#39;HACKED\u0026#39;)\u0026gt; 또는 DOM 기반에서 자주 쓰는 이벤트 기반 스크립트도 작동한다.\n\u0026#34; autofocus onfocus=alert(\u0026#39;HACKED\u0026#39;)\u0026gt; 이 구조가 특히 위험한 이유는:\n사용자가 클릭하지 않아도, 공격자가 만든 URL을 보거나 자동 리디렉션만 되어도, Payload가 실행되므로 피싱, 쿠키 탈취에 악용되기 쉽다.\nDOM XSS 코드 분석 DOM XSS는 기본적으로 아래와 같은 JS 구문에서 발생한다:\ninnerHTML (위험) element.innerHTML = userInput; document.write (매우 위험) document.write(location.hash); location.search / hash 값을 직접 파싱하는 경우 var lang = location.search.split(\u0026#34;=\u0026#34;)[1]; document.getElementById(\u0026#34;lang\u0026#34;).innerHTML = lang; DOM XSS는 innerHTML + location 파라미터 사용 조합이 핵심 위험 요소다. DOM XSS 핵심 정리 DOM XSS는 서버 사이드가 아닌 클라이언트 사이드에서 발생한다. 서버는 Payload를 전혀 처리하지 않지만, 브라우저는 DOM을 조작하며 스크립트를 실행한다.\n따라서 방어 방법도 크게 다르다:\ninnerHTML 보다는 textContent, innerText DOMPurify 같은 sanitizer 이용 location 파라미터 직접 사용 금지 2. Medium -\u0026gt; High 단계 실습 Reflected XSS (Medium \u0026amp; High) 구조 분석 구조를 확인하기 위해 Reflected XSS의 모든 단계 소스 코드를 비교 분석 해보았다.\nLow\n\u0026lt;?php header (\u0026#34;X-XSS-Protection: 0\u0026#34;); // Is there any input? if( array_key_exists( \u0026#34;name\u0026#34;, $_GET ) \u0026amp;\u0026amp; $_GET[ \u0026#39;name\u0026#39; ] != NULL ) { // Feedback for end user echo \u0026#39;\u0026lt;pre\u0026gt;Hello \u0026#39; . $_GET[ \u0026#39;name\u0026#39; ] . \u0026#39;\u0026lt;/pre\u0026gt;\u0026#39;; } ?\u0026gt; Low 단계의 소스 코드를 살펴보면 $_GET['name']값을 아무런 검증 없이 그대로 출력한다. 따라서 \u0026lt;script\u0026gt;, \u0026lt;img\u0026gt;, \u0026lt;svg\u0026gt;등 모든 태그가 실행 가능하다.\nMedium\n\u0026lt;?php header (\u0026#34;X-XSS-Protection: 0\u0026#34;); // Is there any input? if( array_key_exists( \u0026#34;name\u0026#34;, $_GET ) \u0026amp;\u0026amp; $_GET[ \u0026#39;name\u0026#39; ] != NULL ) { // Get input $name = str_replace( \u0026#39;\u0026lt;script\u0026gt;\u0026#39;, \u0026#39;\u0026#39;, $_GET[ \u0026#39;name\u0026#39; ] ); // Feedback for end user echo \u0026#34;\u0026lt;pre\u0026gt;Hello {$name}\u0026lt;/pre\u0026gt;\u0026#34;; } ?\u0026gt; Medium 단계의 소스 코드에서는 \u0026lt;script\u0026gt;문자열과 정확하게 일치하는 경우에만 제거를 하는 검증이 하나 추가되었다. $name = str_replace( \u0026#39;\u0026lt;script\u0026gt;\u0026#39;, \u0026#39;\u0026#39;, $_GET[ \u0026#39;name\u0026#39; ] ); 하지만 이도 매우 취약하다. \u0026lt;Script\u0026gt;, \u0026lt;img\u0026gt;, \u0026lt;svg\u0026gt;등 대문자로 바꾸거나 이벤트 기반의 태그로 너무 쉽게 우회가 가능하다.\nHigh\n\u0026lt;?php header (\u0026#34;X-XSS-Protection: 0\u0026#34;); // Is there any input? if( array_key_exists( \u0026#34;name\u0026#34;, $_GET ) \u0026amp;\u0026amp; $_GET[ \u0026#39;name\u0026#39; ] != NULL ) { // Get input $name = preg_replace( \u0026#39;/\u0026lt;(.*)s(.*)c(.*)r(.*)i(.*)p(.*)t/i\u0026#39;, \u0026#39;\u0026#39;, $_GET[ \u0026#39;name\u0026#39; ] ); // Feedback for end user echo \u0026#34;\u0026lt;pre\u0026gt;Hello {$name}\u0026lt;/pre\u0026gt;\u0026#34;; } ?\u0026gt; High 단계의 소스 코드에서는 정규식 기반 필터링이 적용되었다. \u0026lt;script\u0026gt;문자열을 \u0026lt;scriiiipt\u0026gt;, \u0026lt;sCrIpT\u0026gt;와 같은 다양한 형태를 검증하여 제거한다. preg_replace(\u0026#39;/\u0026lt;(.*)s(.*)c(.*)r(.*)i(.*)p(.*)t/i\u0026#39;, \u0026#39;\u0026#39;, $input) 하지만 이 또한 \u0026lt;script\u0026gt;태그만 검증하기 때문에 다른 태그들을 이용하여 우회가 가능하다.\n공격 시도 Payload를 찾아보며 알게된 가장 짧고 간단하지만 \u0026lt;script\u0026gt;태그를 사용하지 않고 잘 검증하지 않는 태그를 사용하는 Payload로 공격시도를 해보았다.\n\u0026#34;\u0026gt;\u0026lt;svg onload=alert(\u0026#39;HACKED\u0026#39;)\u0026gt; Medium \u0026amp; High 단계 모두 공격에 성공하였다.\n분석 단계가 올라갈수록 필터가 강화되는 것처럼 보이지만, 결국 \u0026lt;script\u0026gt;태그만 검증하는 매우 취약한 필터링에 머물러 있다. 실제 공격은 \u0026lt;svg onload\u0026gt;, \u0026lt;img onerror\u0026gt;, 이벤트 기반 Payload등 다양한 벡터를 활용하므로 대부분 간단하게 우회가 가능했다. 이를 통해 **간단한 필터링으로는 XSS를 막을 수 없다\u0026quot;는 점을 확인할 수 있었다.\nStored XSS (Medium \u0026amp; High) 구조 분석 Low\n\u0026lt;?php if( isset( $_POST[ \u0026#39;btnSign\u0026#39; ] ) ) { // Get input $message = trim( $_POST[ \u0026#39;mtxMessage\u0026#39; ] ); $name = trim( $_POST[ \u0026#39;txtName\u0026#39; ] ); // Sanitize message input $message = stripslashes( $message ); $message = ((isset($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;]) \u0026amp;\u0026amp; is_object($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;])) ? mysqli_real_escape_string($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;], $message ) : ((trigger_error(\u0026#34;[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\u0026#34;, E_USER_ERROR)) ? \u0026#34;\u0026#34; : \u0026#34;\u0026#34;)); // Sanitize name input $name = ((isset($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;]) \u0026amp;\u0026amp; is_object($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;])) ? mysqli_real_escape_string($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;], $name ) : ((trigger_error(\u0026#34;[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\u0026#34;, E_USER_ERROR)) ? \u0026#34;\u0026#34; : \u0026#34;\u0026#34;)); // Update database $query = \u0026#34;INSERT INTO guestbook ( comment, name ) VALUES ( \u0026#39;$message\u0026#39;, \u0026#39;$name\u0026#39; );\u0026#34;; $result = mysqli_query($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;], $query ) or die( \u0026#39;\u0026lt;pre\u0026gt;\u0026#39; . ((is_object($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;])) ? mysqli_error($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;]) : (($___mysqli_res = mysqli_connect_error()) ? $___mysqli_res : false)) . \u0026#39;\u0026lt;/pre\u0026gt;\u0026#39; ); //mysql_close(); } ?\u0026gt; Medium\n\u0026lt;?php if( isset( $_POST[ \u0026#39;btnSign\u0026#39; ] ) ) { // Get input $message = trim( $_POST[ \u0026#39;mtxMessage\u0026#39; ] ); $name = trim( $_POST[ \u0026#39;txtName\u0026#39; ] ); // Sanitize message input $message = strip_tags( addslashes( $message ) ); $message = ((isset($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;]) \u0026amp;\u0026amp; is_object($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;])) ? mysqli_real_escape_string($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;], $message ) : ((trigger_error(\u0026#34;[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\u0026#34;, E_USER_ERROR)) ? \u0026#34;\u0026#34; : \u0026#34;\u0026#34;)); $message = htmlspecialchars( $message ); // Sanitize name input $name = str_replace( \u0026#39;\u0026lt;script\u0026gt;\u0026#39;, \u0026#39;\u0026#39;, $name ); $name = ((isset($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;]) \u0026amp;\u0026amp; is_object($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;])) ? mysqli_real_escape_string($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;], $name ) : ((trigger_error(\u0026#34;[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\u0026#34;, E_USER_ERROR)) ? \u0026#34;\u0026#34; : \u0026#34;\u0026#34;)); // Update database $query = \u0026#34;INSERT INTO guestbook ( comment, name ) VALUES ( \u0026#39;$message\u0026#39;, \u0026#39;$name\u0026#39; );\u0026#34;; $result = mysqli_query($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;], $query ) or die( \u0026#39;\u0026lt;pre\u0026gt;\u0026#39; . ((is_object($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;])) ? mysqli_error($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;]) : (($___mysqli_res = mysqli_connect_error()) ? $___mysqli_res : false)) . \u0026#39;\u0026lt;/pre\u0026gt;\u0026#39; ); //mysql_close(); } ?\u0026gt; High\n\u0026lt;?php if( isset( $_POST[ \u0026#39;btnSign\u0026#39; ] ) ) { // Get input $message = trim( $_POST[ \u0026#39;mtxMessage\u0026#39; ] ); $name = trim( $_POST[ \u0026#39;txtName\u0026#39; ] ); // Sanitize message input $message = strip_tags( addslashes( $message ) ); $message = ((isset($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;]) \u0026amp;\u0026amp; is_object($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;])) ? mysqli_real_escape_string($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;], $message ) : ((trigger_error(\u0026#34;[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\u0026#34;, E_USER_ERROR)) ? \u0026#34;\u0026#34; : \u0026#34;\u0026#34;)); $message = htmlspecialchars( $message ); // Sanitize name input $name = preg_replace( \u0026#39;/\u0026lt;(.*)s(.*)c(.*)r(.*)i(.*)p(.*)t/i\u0026#39;, \u0026#39;\u0026#39;, $name ); $name = ((isset($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;]) \u0026amp;\u0026amp; is_object($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;])) ? mysqli_real_escape_string($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;], $name ) : ((trigger_error(\u0026#34;[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.\u0026#34;, E_USER_ERROR)) ? \u0026#34;\u0026#34; : \u0026#34;\u0026#34;)); // Update database $query = \u0026#34;INSERT INTO guestbook ( comment, name ) VALUES ( \u0026#39;$message\u0026#39;, \u0026#39;$name\u0026#39; );\u0026#34;; $result = mysqli_query($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;], $query ) or die( \u0026#39;\u0026lt;pre\u0026gt;\u0026#39; . ((is_object($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;])) ? mysqli_error($GLOBALS[\u0026#34;___mysqli_ston\u0026#34;]) : (($___mysqli_res = mysqli_connect_error()) ? $___mysqli_res : false)) . \u0026#39;\u0026lt;/pre\u0026gt;\u0026#39; ); //mysql_close(); } ?\u0026gt; 공격 시도 Soon\u0026hellip; ","permalink":"https://laphael58.github.io/1%EC%A3%BC%EC%B0%A8-%EC%8B%A4%EC%8A%B5-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95/","summary":"\u003chr\u003e\n\u003ch3 id=\"1주차-학습-목표\"\u003e1주차 학습 목표\u003c/h3\u003e\n\u003cp\u003e토스(Toss)의 Application Security 영역 및 Backend/Platform Security Engineering 직무 역량 기준을 참고하여,\n웹 취약점 중 가장 핵심인 **XSS(Cross-Site Scripting)**를 DVWA를 통해 공격/우회 실습을 해보며 분석.\u003cbr\u003e\u003cbr\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"학습-배경--동기\"\u003e학습 배경 \u0026amp; 동기\u003c/h3\u003e\n\u003cp\u003e토스(Toss)의 여러 포지션을 살펴보면 공통적으로 다음 역량을 매우 강조한다.\u003c/p\u003e","title":"1주차 : 실습 환경 구축"},{"content":" 나의 시작과 목표 어릴 때부터 컴퓨터에 흥미가 많아 이것저것 만지며 자연스럽게 컴퓨터에 대한 지식을 쌓았다. 중학교 때 코딩을 접하고 열심히 공부하면서, 고등학교 시절에는 학교에 도움이 되는 프로젝트를 직접 진행했다. 프로젝트에서는 교무실 호출벨을 아두이노와 앱인벤터를 활용하여 제작했고, 석식을 먹는 학생들을 관리할 수 있는 프로그램을 개발했다.\n이 과정을 통해 단순한 코딩과 개발을 넘어서 보안과 해킹에도 관심을 가지게 되었고, 처음에는 낯설고 어려웠지만 천천히 공부하며 기초 지식을 익혔다. 이를 바탕으로 대학 진학 시 보안 분야 전공을 선택했고, 고려대학교 인공지능사이버보안학과에 입학했다.\n학교 생활을 하면서 학과 특강, 동아리 활동, 선배들의 조언 등을 듣다 보니, 단순히 학점만으로는 충분하지 않다는 것을 깨달았다. 개인 역량을 키우는 것이 중요하다는 사실을 알게 되었고, 이를 위해 개인 공부 기록을 남기기 위해 블로그를 시작했다.\n또한, 대학 생활 동안 Toss에서 보안 엔지니어로 성장하고 싶다는 목표가 생겼다. Toss는 많은 사용자들이 신뢰하는 서비스이며, 보안과 기술 혁신에 적극적인 기업이다. 이런 환경에서 실제 서비스의 보안을 책임지는 경험을 쌓고 싶다는 생각이 들었고, 이를 위해 웹 해킹과 보안 역량을 성장시키는 좋은 목표로 삼았다. 이 블로그에서 쌓은 학습 기록은 개인 역량 성장 및 취업 포트폴리오에도 활용할 예정이다.\n최종 목표 내가 도달하고 싶은 구체적인 목표는 다음과 같다.\n보안 역량 성장 Toss 보안 직군 취업 내가 직접 만든 웹서비스에 보안을 적용하는 실전 프로젝트 수행 웹해킹 실습·취약점 공격/방어 분석 정리 블로그를 \u0026lsquo;실전 중심 보안 포트폴리오\u0026rsquo;로 완성 블로그 운영 계획 블로그 → 나중에는 직접 만든 사이트로 이전 나는 처음에는 Git 기반 블로그(Hugo)로 시작하지만\n나중에 웹 개발 실력이 쌓이면 직접 만든 웹사이트로 블로그를 이전할 계획이다.\n그 사이트는 단순 블로그가 아니라:\n로그인/회원가입 기능 글 작성 기능 파일 업로드 관리자 페이지 등을 갖춘 실전 웹서비스 형태로 만들고,\n내가 웹 보안을 하여, 직접 공격하고 방어하는 과정을 기록할 것이다.\n따라서 이 블로그는 앞으로 내가 직접 만든 웹 보안 실습 플랫폼으로 진화할 예정이다.\n앞으로의 계획 앞으로의 학습 계획은 다음과 같다.\nDVWA, OWASP 등 실습 환경에서 다양한 웹 취약점 경험 Reflected XSS, Stored XSS, DOM 기반 XSS 등 공격 기법 이해 SQL Injection, CSRF, 인증 우회 등 주요 웹 취약점 실습 필터 우회 및 보안 취약점 탐지 방법 학습 학습 내용을 블로그에 기록하여 포트폴리오화 마치며 이 블로그는 단순한 공부 기록이 아니라\n미래의 나를 움직이는 로드맵이자 포트폴리오의 시작이다.\n앞으로 실습 기반의 깊이 있는 내용을 차근차근 쌓아갈 예정이다.\n","permalink":"https://laphael58.github.io/%EC%8B%9C%EC%9E%91%EA%B3%BC-%EB%AA%A9%ED%91%9C/","summary":"\u003chr\u003e\n\u003ch2 id=\"나의-시작과-목표\"\u003e나의 시작과 목표\u003c/h2\u003e\n\u003cp\u003e어릴 때부터 컴퓨터에 흥미가 많아 이것저것 만지며 자연스럽게 컴퓨터에 대한 지식을 쌓았다. 중학교 때 코딩을 접하고 열심히 공부하면서, 고등학교 시절에는 학교에 도움이 되는 프로젝트를 직접 진행했다.\n프로젝트에서는 교무실 호출벨을 아두이노와 앱인벤터를 활용하여 제작했고, 석식을 먹는 학생들을 관리할 수 있는 프로그램을 개발했다.\u003c/p\u003e","title":"시작과 목표"},{"content":" 신승환 2006.05.08\n고려대학교 인공지능사이버보안학과 25학번\nAICS 25 | KOREA UNIV ku_ssh@korea.ac.kr ","permalink":"https://laphael58.github.io/about/","summary":"\u003cdiv style=\"display: flex; justify-content: center; margin-top: 60px; font-family: 'Helvetica', 'Arial', sans-serif';\"\u003e\n\n  \u003cdiv id=\"profile-card\" style=\"\n    max-width: 420px;\n    width: 90%;\n    padding: 40px 30px;\n    border-radius: 20px;\n    text-align: center;\n    box-shadow: 0 12px 30px rgba(0,0,0,0.15);\n    background-color: #ffffff;\n    color: #222222;\n    transition: transform 0.3s ease, background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;\n  \"\u003e\n\n    \u003c!-- 프로필 이미지 --\u003e\n    \u003cimg src=\"https://tistory1.daumcdn.net/tistory/5900884/attach/f4ac8e81ef3f457b9099402bc80e2ebe\"\n         alt=\"profile photo\"\n         style=\"\n           width: 140px;\n           height: 140px;\n           border-radius: 50%;\n           object-fit: cover;\n           margin: 0 auto 20px auto;\n           display: block;\n           box-shadow: 0 6px 20px rgba(0,0,0,0.25);\n           transition: box-shadow 0.3s ease;\n         \" /\u003e\n\n    \u003c!-- 이름 --\u003e\n    \u003ch1 style=\"font-size: 26px; margin: 0 0 5px 0;\"\u003e신승환\u003c/h1\u003e\n\n    \u003c!-- 생일 --\u003e\n    \u003cp style=\"font-size: 13px; margin: 0 0 10px 0;\"\u003e2006.05.08\u003c/p\u003e","title":"About"}]